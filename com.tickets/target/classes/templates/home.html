<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>

    <title>DashBoard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
          crossorigin="anonymous">

    <style>body { background-color: black;   }</style>
</head>
<body>
<br>
<div class="d-flex justify-content-left">
<p style="color: pink;margin-left:50px">user: <span th:text="${username}" style="color: lime"></span></p>
<p style="color: pink;margin-left:50px">id: <span th:text="${userid}" style="color: lime"></span></p>
</div>

<div class="container-fluid bg-dark text-light py-3">
    <header class="text-center">
        <h1 class="display-6" style="color: lime">DashBoard</h1>
    </header>
</div>
<br>

<form action="" method="post" class="row g-3 p-3" style="box-shadow: 0 0 100px rgba(31, 81, 255, 0.8);">
    <div class="d-flex justify-content-center">

        <div class="d-flex flex-column align-items-center " style="margin-right: 20px">
            <img src="/new.png" alt="Image 1" style="width: 250px; height: 200px; margin-bottom: 10px;margin-right: 7px">
            <a th:href="@{/newticket}" class="btn btn-success" style="margin-top: 0px; margin-right: 10px;">Create New Ticket</a>
        </div>

        <div class="d-flex flex-column align-items-center" style="margin-right: 20px">
            <img src="/closed.jpeg" alt="Image 2" style="width: 250px; height: 200px; margin-bottom: 5px;">
            <a th:href="@{/closedtickets}" class="btn btn-primary mb-2" style="margin-top: 5px; margin-left: 10px;">Go to Closed Tickets</a>
        </div>

    <div class="d-flex flex-column align-items-center">
            <img src="/ElectronicRepair1.jpg" alt="Image 3" style="width: 250px; height: 200px; margin-bottom: 5px;">
            <a th:href="@{/opentickets}" class="btn btn-primary mb-2" style="margin-top: 5px; margin-left: 10px;">Go to Open Tickets</a>
        </div>

        <div class="d-flex flex-column align-items-center" style="margin-left:10px">
            <img src="/editprofile.jpg" alt="Image 4" style="width: 250px; height: 200px;margin-left: 10px; margin-bottom: 5px;">

            <a th:href="@{'/adduser/updateprofile/' + ${userid}}"
               class="btn btn-primary mb-2" style="margin-top: 5px; margin-left: 10px;">Update Profile</a>

        </div>

    </div>

    <div class="d-flex flex-column align-items-center" style="margin-left:10px">
            <img src="/admin-dark.png" alt="Image 4" style="width: 250px; height: 200px;margin-left: 10px; margin-bottom: 5px;">
            <a th:href="@{/admin}" class="btn btn-primary mb-2" style="margin-top: 5px; margin-left: 10px;">Log in to Admin Dashboard</a>
        </div>

    </div>

</form>





</div>
<section class="container my-2 bg-dark w-50 text-light p-2" style="box-shadow: 0 0 20px rgba(31, 81, 255, 0.8);" >
<form th:action="@{/home}" method="get">
    <button type="submit" style="background:grey;color:gold">Refresh  </button>
</form>

<!--</section>-->
    <div class="text-center">
<h2 style="color:gold">Total Ticket Count per User</h2>
    <table class="table table-bordered table-striped text-light">
    <thead>
    <tr style="color:gold">
        <th>Assigned To</th>
        <th>Total Open Tickets </th>
        <th>Total Closed Tickets </th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="count : ${ticketCounts}">
        <td th:text="${count.assignedTo}"  style="color:lime"></td>
        <td th:text="${count.openTicketsCount}" style="color:lime"></td>
        <td th:text="${count.closedTicketsCount}" style="color:lime"></td>
    </tr>
    </tbody>
</table>
    </div>

    </section>


</body>
</html>